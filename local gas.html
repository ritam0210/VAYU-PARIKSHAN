<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Localize Gas Monitor</title>
  <link rel="stylesheet" type="text/css" href="Location1.css" />
  <!-- <link rel="icon" href="technologo.jpg"> -->
<style>
.data,
h1,
h2,
p {
  color: #f0f8ff;
  text-align: center
}

.parent_container,
.parent_container2 {
  display: none;
  grid-template-columns: 1fr 1fr;
  width: 80%
}

.parent_container3 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  width: 80%
}

.container,
.default_location,
.location2 {
  width: 400px;
  height: 740px;
  border-radius: 20px;
  background-color: #5f9ea0
}
.default_location{
  width:100%;
}
.data {
  font-size: 25px
}

h1,
h2,
p {
  font-family: sans-serif
}

p {
  margin-top: 20px
}

h2 {
  padding: 5px
}

.map_box {
  width: 100%;
  margin-left: 1%
}

iframe {
  width: 1105px;
  height: 740px;
  border: none
}
iframe :where(.dl)
{
  width: 100%;
  height: 740px;
  border: none
}
nav {
  background-color: #000;
  width: 100vw;
  height: 10vh;
  justify-content: space-between
}

#toggle,
#toggle2,
#toggle3 {
  color: #000;
  background-color: #0ff;
  border-radius: 12px;
  border: 5px solid #000;
  width: 180px;
  height: 50px;
  font-weight: bolder;
  margin-right: 7cm;
  margin-top: 15px
}

#toggle3 {
  background-color: red;
  color: #fff
}

@media (max-width:480px) {
  .parent_container {
    display: block;
    margin: 0;
    padding: 0;
    overflow-y: auto
  }

  .container {
    width: 65vw;
    height: 50vh;
    border-radius: 20px;
    background-color: #5f9ea0;
    margin-left: 15%
  }

  h2,
  p {
    font-family: sans-serif;
    color: #f0f8ff;
    text-align: center;
    font-size: small
  }

  p {
    margin-top: 1px
  }

  h2 {
    padding: 5px
  }

  .map_box {
    margin-top: 10px;
    margin-left: 15%
  }

  iframe {
    width: 70vw;
    height: 250px;
    border: none;
  }
}

</style>
</head>

<body>
  <script type="text/javascript">

    // FUNCTION SHOW#1 START
    function show1() {
      var myDiv = document.getElementsByClassName("parent_container");


      var toggleButton = document.getElementById("toggle");
      Array.from(myDiv).forEach((x) => {
        if (x.style.display === "none") {
          // Show the div
          x.style.display = "grid";
          toggleButton.textContent = "hide Location 1";
          toggleButton.style.color = "white";
          toggleButton.style.backgroundColor = "red";



        } else {
          // Hide the div
          x.style.display = "none";
          toggleButton.textContent = "show Location 1";
          toggleButton.style.color = "black";
          toggleButton.style.backgroundColor = "aqua";
          // show3();


        }
      })
      ////////////////


    }
    // FUNCTION SHOW#1 END

    // FUNCTION SHOW#2 START
    function show2() {
      var myDiv = document.getElementsByClassName("parent_container2");
      var toggleButton = document.getElementById("toggle2");
      Array.from(myDiv).forEach((x) => {
        if (x.style.display === "none") {
          // Show the div
          x.style.display = "grid";
          toggleButton.textContent = "hide Location 2";
          toggleButton.style.color = "white";
          toggleButton.style.backgroundColor = "red";
          // show3();



        } else {
          // Hide the div
          x.style.display = "none";
          toggleButton.textContent = "show Location 2";
          toggleButton.style.color = "black";
          toggleButton.style.backgroundColor = "aqua";
          // show3();
        }
      })

    }
    // FUNCTION SHOW#2 END

    // FUNCTION SHOW#3 START
    function show3() {
      var myDiv = document.getElementsByClassName("parent_container3");
      var toggleButton = document.getElementById("toggle3");
      Array.from(myDiv).forEach((x) => {
        if (x.style.display === "grid") {
          // Show the div
          x.style.display = "none";
          toggleButton.textContent = "Show Default Location";
          toggleButton.style.color = "black";
          toggleButton.style.backgroundColor = "aqua";
          // show1();


        }
        else {
          // Hide the div
          x.style.display = "grid";
          toggleButton.textContent = "Hide Default Location ";
          toggleButton.style.color = "white";
          toggleButton.style.backgroundColor = "red";

        }
      })

    }
    // FUNCTION SHOW#3 END

    //advanced function
    function af() {
      var myDiv = document.getElementsByClassName("pre_parent_container");
      
      Array.from(myDiv1).forEach((x) => {
        alert("Hide the Previous Location First ");

      })

    }
  </script>

  <nav class="buttonbar" style="display:inline-block">
    <button id="toggle" onclick="show1() ,af()">
      show Location 1
    </button>
    <button id="toggle2" onclick="show2(),af()">
      show Location 2
    </button>
    <button id="toggle3" onclick="show3(),af()">
      Hide Default Location
    </button>

  </nav>
  <br>
  <br>
  <div class="pre_parent_container">

    <div class="parent_container">

      <div class="container">

        <!-- <h1>Location 1</h1> -->
        <h2>22.5781984389, 88.4757596254</h2>
        <hr />
        <p>
        <div class="data">
          <span>Temperature : </span><span id="temp"></span><span style="margin-left:5px">°C</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Humidity : </span><span id="humid"></span><span style="margin-left:5px">%</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Heat Index : </span><span id="heatI"></span><span style="margin-left:5px">°C</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>PM 2.5 : </span><span id="pm"></span><span style="margin-left:5px">ug/m3</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Methane : </span><span id="meth"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Carbonmonoxide : </span><span id="co"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Flammable gas : </span><span id="fg"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Carbondioxide : </span><span id="co2"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
      </div>



      <div class="map_box">
        <iframe frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
          src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=techno%20international%20new%20town+(Location%201)&amp;t=h&amp;z=17&amp;ie=UTF8&amp;iwloc=B&amp;output=embed">
          <a href="https://www.maps.ie/population/"> Population mapping </a>
        </iframe>
      </div>
    </div>



    <!-- LOCATION #2  HTML START-->
    <div class="parent_container2" style="display: none;">

      <div class="location2">
        <h2>22°45'47.5"N 88°31'58.1"E</h2>
        <hr />
        <p>
        <div class="data">
          <span>Temperature : </span><span id="temp"></span><span style="margin-left:5px">°C</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Humidity : </span><span id="humid"></span><span style="margin-left:5px">%</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Heat Index : </span><span id="heatI"></span><span style="margin-left:5px">°C</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>PM 2.5 : </span><span id="pm"></span><span style="margin-left:5px">ug/m3</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Methane : </span><span id="meth"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Carbonmonoxide : </span><span id="co"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Flammable gas : </span><span id="fg"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Carbondioxide : </span><span id="co2"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
      </div>
      <div class="map_box">
        <iframe frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
          src="https://maps.google.com/maps?width=100%25&amp;height=600&amp;hl=en&amp;q=Narshipur,%20Chandrapur,%20West%20Bengal%20743248+(Location%202)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed">
          <a href="https://www.maps.ie/population/"> Population mapping </a>
        </iframe>
      </div>

    </div>
    <!-- LOCATION #2 HTML END -->


    <!-- DEFAULT LOCATION   HTML START-->
    <div class="parent_container3">

      <!-- <div class="default_location">
        <h2>Default Location</h2>
        <hr />
        <p>
        <div class="data">
          <span>Temperature : </span><span id="temp"></span><span style="margin-left:5px">°C</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Humidity : </span><span id="humid"></span><span style="margin-left:5px">%</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Heat Index : </span><span id="heatI"></span><span style="margin-left:5px">°C</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>PM 2.5 : </span><span id="pm"></span><span style="margin-left:5px">ug/m3</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Methane : </span><span id="meth"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Carbonmonoxide : </span><span id="co"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Flammable gas : </span><span id="fg"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
        <p>
        <div class="data">
          <span>Carbondioxide : </span><span id="co2"></span><span style="margin-left:5px">ppm</span>
        </div>
        </p>
      </div> -->
      <div class="map_box  dl">
        <div style="width: 500%"><iframe  width="500%" height="600" frameborder="0" scrolling="no" marginheight="0"
            marginwidth="0"
            src="https://maps.google.com/maps?width=500%&amp;height=600&amp;hl=en&amp;q=kolkata+(Location%202)&amp;t=&amp;z=14&amp;ie=UTF8&amp;iwloc=B&amp;output=embed"><a
              href="https://www.maps.ie/population/">Population calculator map</a></iframe></div>
      </div>

    </div>
    <!-- DEFAULT LOCATION  HTML END -->
  </div>


</body>

<!-- DATA CONTROL SCRIPT START-->
<script>

  if (!!window.EventSource) {
    var source = new EventSource('/events');

    source.addEventListener('open', function (e) {
      console.log("Events Connected");
    }, false);
    source.addEventListener('error', function (e) {
      if (e.target.readyState != EventSource.OPEN) {
        console.log("Events Disconnected");
      }
    }, false);

    source.addEventListener('message', function (e) {
      console.log("message", e.data);
    }, false);

    source.addEventListener('new_readings', function (e) {
      console.log("new_readings", e.data);
      var obj = JSON.parse(e.data);
      document.getElementById("temp").innerHTML = obj.Temp.toFixed(2);
      document.getElementById("humid").innerHTML = obj.Humid.toFixed(2);
      document.getElementById("heatI").innerHTML = obj.HeatI.toFixed(2);
      document.getElementById("pm").innerHTML = obj.Pm.toFixed(2);
      document.getElementById("meth").innerHTML = obj.Meth.toFixed(2);
      document.getElementById("co").innerHTML = obj.Co.toFixed(2);
      document.getElementById("fg").innerHTML = obj.Fg.toFixed(2);
      document.getElementById("co2").innerHTML = obj.Co2.toFixed(2);

    }, false);
  }
</script>

</html>